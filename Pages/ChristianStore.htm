<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
	PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en">

<head>
	<!-- Zenhayevsky Carolina Solorzano Acevedo
      Description: Christian store for th user
	  Date: 2024-12-02          -->
	<title>My Christian Store</title>
	<link rel="stylesheet" href="../globlaCss/pages.css" />
	<link rel="stylesheet" href="../globlaCss/bigModal.css" />
	<link rel="stylesheet" href="../globlaCss/card.css" />
	<link rel="stylesheet" href="../globlaCss/form.css" />
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: Arial sans-serif;
		}

		@media (max-width: 768px) {
			.box {
				max-width: 100%;
			}
		}
	</style>
</head>

<body class="welcomeBg">
	<div class="floatingDiv">
		<div class="pageIdentifier">My Christian Store</div>
		<div id="products">
			<h2>Our products</h2>
			<div class="product-grid">
				<div class="product-card">
					<img src="../images/beigehoodie.png" alt="Beige hoodie" />
					<h3>Beige hoodie</h3>
					<p>$30</p>
					<input type="number" min="0" value="0" id="qty-beigehoodie" />
					<button onclick="addToCart('beigehoodie', 30, 'qty-beigehoodie')">Add</button>
				</div>
				<div class="product-card">
					<img src="../images/pinkhoodie.png" alt="Pink hoodie" />
					<h3>Pink hoodie</h3>
					<p>$35</p>
					<input type="number" min="0" value="0" id="qty-pinkhoodie" />
					<button onclick="addToCart('Pink hoodie', 35, 'qty-pinkhoodie')">Add</button>
				</div>
				<div class="product-card">
					<img src="../images/blackhoodie.png" alt="Black hoodie" />
					<h3>Black hoodie</h3>
					<p>$20</p>
					<input type="number" min="0" value="0" id="qty-blackhoodie" />
					<button onclick="addToCart('Black hoodie', 20, 'qty-blackhoodie')">Add</button>
				</div>
				<div class="product-card">
					<img src="../images/brownhoodie.png" alt="Brown hoodie" />
					<h3>Brown hoodie</h3>
					<p>$22</p>
					<input type="number" min="0" value="0" id="qty-brownhoodie" />
					<button onclick="addToCart('Brown hoodie', 22, 'qty-brownhoodie')">Add</button>
				</div>
				<div class="product-card">
					<img src="../images/redhoodie.png" alt="Red hoodie" />
					<h3>Red hoodie</h3>
					<p>$28</p>
					<input type="number" min="0" value="0" id="qty-redhoodie" />
					<button onclick="addToCart('Red hoodie', 18, 'qty-redhoodie')">Add</button>
				</div>
				<div class="product-card">
					<img src="../images/bluehoodie.png" alt="Blue hoodie" />
					<h3>Blue hoodie</h3>
					<p>$25</p>
					<input type="number" min="0" value="0" id="qty-bluehoodie" />
					<button onclick="addToCart('Blue hoodie', 25, 'qty-bluehoodie')">Add</button>
				</div>
				<div class="product-card">
					<img src="../images/greenhoodie.png" alt="Green hoodie" />
					<h3>Green hoodie</h3>
					<p>$25</p>
					<input type="number" min="0" value="0" id="qty-greenhoodie" />
					<button onclick="addToCart('Green hoodie', 25, 'qty-greenhoodie')">Add</button>
				</div>
			</div>
			<div style="display: flex; margin-top: 20px;">
				<label>You have in your cart:</label>
				<p id="itemsOnCart"></p>
			</div>
			<button style="background-color: #28a745; margin-top: 20px;" id="open-modal">Go to Cart</button>
			<button style="background-color: #11758e;" onclick="clearCart()">Empty Cart</button>

			<p
				style="align-self: self-end; margin-left: 0px; margin-right: 70%; margin-top: 50px; color:#cdbe82; position: absolute; ">
				Time spent in this page: <span id="time-spent-products">0</span> segundos</p>
		</div>

		<!--Modal payment-->
		<div id="payment-modal" class="modal">
			<div class="modal-content">
				<span class="close" onclick="closePaymentModalModal()">
					&times;
				</span>
				<form id="payment-form" action="">
					<div class="container">
						<div class="box">
							<h2>Shooping List</h2>
							<div class="fields">
								<div class="field">

									<div id="cart-summary"></div>
									<h3>Total: $<span id="total-price">0.00</span></h3>
								</div>
							</div>
						</div>
						<div class="box">
							<h2>Billing Information</h2>
							<!--same adress-->
							<div class="fields">
								<div class="field">
									<div class="checkbox-container">
										<input type="checkbox" id="sameAsShipping" name="sameAsShipping" />
										<label for="sameAsShipping">Same as my shipping address</label>
									</div>
								</div>
								<!--Basic data-->
								<div class="field">
									<label for="firstname">Firstname: </label>
									<input style="width: 175px;" type="text" id="firstname" name="firstname"
										required="required" />
								</div>

								<div class="field">
									<label for="lasttname">Lasttname: </label>
									<input style="width: 172px;" type="text" id="lasttname" name="lasttname"
										required="required" />
								</div>

								<!--Country-->
								<div class="field">
									<label for="country">Country</label>
									<select style="width: 189px;" id="country" name="country" required="required">
										<option value="" disabled selected>Select country</option>
										<option value="Canada">Canada</option>
										<option value="United States">United States</option>
									</select>
								</div>

								<!--Province-->
								<div class="field">
									<label for="province">Province/State</label>
									<select id="province" name="province" required="required">
										<option value="" disabled selected>Select Province/State</option>
									</select>
								</div>

								<div class="field">
									<label for="street">Street: </label>
									<input style="width: 200px;" type="text" id="street" name="street"
										required="required" />
								</div>

								<div class="field">
									<label for="city">City: </label>
									<input style="width: 210px;" type="text" id="city" name="city"
										required="required" />
								</div>

								<div class="field">
									<label for="postalCode">Postal Code: </label>
									<input style="width: 160px;" type="text" id="postalCode" name="postalCode"
										required="required" />
								</div>

								<div class="field">
									<label for="phoneNumber">Phone number: </label>
									<input style="width: 143px;" type="text" id="phoneNumber" name="phoneNumber"
										required="required" />
								</div>

								<div class="field">
									<label for="aptNumber">APT Number: </label>
									<input style="width: 149px;" type="text" id="aptNumber" name="aptNumber"
										required="required" />
								</div>
							</div>
						</div>
						<div class="box">
							<h2>Paying Information</h2>
							<div class="fields">
								<!--radio button -->
								<div class="field">
									<label>
										<input type="radio" name="billingOption" value="" required="required" />
										Bill to
									</label>
								</div>

								<!--card type-->
								<div class="field" style="display: flex;">
									<label for="cardType">Card Type</label>
									<select style="height: 20px;" id="cardType" name="cardType" required="required">
										<option value="" disabled selected>Card</option>
										<option value="Master Card">MasterCard</option>
										<option value="Visa">Visa</option>
										<option value="American Express">American Express</option>
									</select>
									<img src="../images/visa-mastercard-amex_0.png" alt="Type of card" />
								</div>

								<!--card number -->
								<div class="field">
									<label for="cardNumber">Card Number</label>
									<input type="number" id="cardNumber" name="cardNumber" required="required" />
								</div>

								<!-- Expiration Date  -->
								<div class="field">
									<label for="expiryMonth">Expiration Date </label>
									<select id="expiryMonth" name="expiryMonth" required="required">
										<option value="" disabled selected>Month</option>
										<option value="01">01</option>
										<option value="02">02</option>
										<option value="03">03</option>
										<option value="04">04</option>
										<option value="05">05</option>
										<option value="06">06</option>
										<option value="07">07</option>
										<option value="08">08</option>
										<option value="09">09</option>
										<option value="10">10</option>
										<option value="11">11</option>
										<option value="12">12</option>
									</select>

									<select id="expiryYear" name="expiryYear" required="required">
										<option value="" disabled selected>Year</option>
										<option value="2024">2024</option>
										<option value="2025">2025</option>
										<option value="2026">2026</option>
										<option value="2027">2027</option>
										<option value="2028">2028</option>
									</select>
								</div>

								<!-- Security code -->
								<div class="field">
									<label for="securityCode">Security Number</label>
									<input style="width: 160px;" type="number" id="securityCode" name="securityCode" />
								</div>
								<div class="field">
									<button style="background-color: #11758e;" type="submit">Checkout</button>
								</div>
							</div>
						</div>
					</div>
				</form>
			</div>
		</div>
	</div>
	<script type="text/javascript" src="../JS/buy.js"></script>
	<script type="text/javascript" src="../JS/provinces.js"></script>
	<script type="text/javascript">
		document.getElementById("payment-modal").style.display = "none";
		document.getElementById("payment-form").addEventListener("submit", (e) => {
			e.preventDefault();
		});

		function closePaymentModalModal() {
			document.getElementById("payment-modal").style.display = "none";
		}
	</script>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
	<script type="text/javascript">
		function validateEmail(email) {
			var regex = /^[a-zA-Z0-9._%+-]+@lasallecollege\.com$/;
			return regex.test(email);
		}

		function validatePassword(password) {
			var regex = /^[a-zA-Z0-9]{6,23}$/;
			return regex.test(password);
		}

		
		function setCookie(c_name, value, exsec) {
			var exdate = new Date();
			exdate.setTime(exdate.getTime() + (exsec * 1000));
			var c_value = escape(value) + "; expires=" + exdate.toUTCString();
			document.cookie = c_name + "=" + c_value;
		}


		function checkForm() {
			var email = document.getElementById("login").value;
			var password = document.getElementById("password").value;
			var errorMessage = $("#errorMessage");

			
			errorMessage.text("");

			
			if (!validateEmail(email)) {
				errorMessage.text("Invalid email format. Please use your college email (e.g., user@lasallecollege.com).");
				return false;
			}

			
			if (!validatePassword(password)) {
				errorMessage.text("Invalid password. Password must be 6-23 characters long and contain only letters and numbers.");
				return false;
			}

		
			setCookie("studentEmail", email, 23); 

			
			$("#nextPageLink").show();

		
			return true;
		}
	</script>
</body>

</html>